FROM python:3.12-slim

WORKDIR /app
ENV PYTHONPATH=/app
ENV DATABASE_URL=sqlite://
ENV TESTING=1

COPY requirements.txt .
RUN pip install -r requirements.txt && pip install pytest

COPY . .

CMD ["pytest", "-q"]
